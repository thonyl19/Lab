@using System.Dynamic
@{
	bool isSingleModel = (bool)ViewData["SingleModel"];
	dynamic data = new ExpandoObject();
    if (true)
	{
		Layout = "~/Views/Shared/_LayoutSingle.cshtml";
	}
    GTI_Test GTest = new GTI_Test(Html, ViewContext.HttpContext);
}
@eBundle.QRender_CSS()
@eBundle.QRender_JS()
<h3>
    @ViewBag.Title
    <small><a href="https://genesisoffice365.sharepoint.com/:o:/r/sites/GTiMES50/_layouts/15/WopiFrame.aspx?sourcedoc={7175ca3d-ef9b-447d-a677-837671fc502f}&action=edit&wd=target%28UI%2Eone%7C0DA210C6%2DA155%2D4147%2DABA6%2DF995FD827BC6%2Fgt%5Fform%5Fcol%7C7170E8F2%2D20FB%2D4EB5%2DA9BD%2DD1AC14E82DB0%2F%29onenote%3Ahttps%3A%2F%2Fgenesisoffice365%2Esharepoint%2Ecom%2Fsites%2FGTiMES50%2FSiteAssets%2FGTiMES%205%2E0%20%E9%96%8B%E7%99%BC%20%E7%AD%86%E8%A8%98%E6%9C%AC%2FUI%2Eone#gt_form_col&section-id={0DA210C6-A155-4147-ABA6-F995FD827BC6}&page-id={7170E8F2-20FB-4EB5-A9BD-D1AC14E82DB0}&end" target="_blank">參考文件</a></small>
</h3>
<div id="app">
    [readonly]<el-switch v-model="readonly"
                         active-color="#13ce66"
                         inactive-color="#ff4949">
    </el-switch>
    <h3>基本使用</h3>
    <pre>[get value]{{value_11}}</pre>
    <div class="row form-horizontal gt-form">
        <gt-form-col label="@RES.BLL.Face.LotNo" :value.sync.trim="value_1" prompt_sty="has-req" :readonly="readonly"></gt-form-col>
        <gt-form-col label="@RES.BLL.Face.LotNo" v-model="value_11" v-trim :readonly="readonly" readonly_view="true"></gt-form-col>

    </div>
    <h3>自定義內容</h3>
    <pre>[get value]{{value_2}}</pre>
    <div class="row form-horizontal gt-form">
        <gt-form-col label="使用 password">
            <input type="password" class="form-control" v-model="value_2">
        </gt-form-col>
        <gt-form-col label="使用其他複合元件" v-model="value_2" :readonly="readonly" :readonly_view="true">
            <div class="input-group ">
                <input type="text" class="form-control" v-model="value_2" />
                <span class="input-group-addon" style="min-width: 130px;">.00</span>
            </div>
        </gt-form-col>
        <gt-form-col v-model="value_2">
            <template slot="label">
                <h1>自定義 Label</h1>
            </template>
        </gt-form-col>
    </div>
    <h3>限定數字類型</h3>
    <pre>[num_mode] 設為 true 就直接啟用和相關事件功能
[keypress,paste] 則以傳入函數做為事件程序
</pre>
    <div class="row form-horizontal gt-form">
        <gt-form-col label="簡單用例" v-model="value_3" :num_mode="true"></gt-form-col>
        <gt-form-col label="自定事件" v-model="value_3" :keypress="keypress" :paste="keypress"></gt-form-col>
    </div> 
    <h3>col_sty</h3>
    <pre>
用來調整 外框的大小,參見如下範例	
	</pre>
    <div class="row form-horizontal gt-form">
        <gt-form-col label="col-lg-4" col_sty="col-lg-4"></gt-form-col>
        <gt-form-col label="col-lg-8" col_sty="col-lg-8"></gt-form-col>
    </div>
    <h3>3col</h3>
    <div class="row form-horizontal gt-form">
        <gt-form-col label="3col" layout_mode="3col" ></gt-form-col>
        <gt-form-col label="3col" layout_mode="3col" ></gt-form-col>
        <gt-form-col label="3col" layout_mode="3col" ></gt-form-col>
    </div>

    <h3>layout_mode</h3>
    <pre>
提供四種模式以滿足以下使用情境
具名模式：常規應用情境,依據常規的版型,定義了以下四種類型具名的類型
    <el-radio v-for="(item) in layout_mode" v-model="layout_mode_name" :label="item"></el-radio>

物件模式：label,filed 只需要調整其一的情境,用物件參數型態傳入做設定 {label,filed}.
	
陣列模式：label,filed 都需要調整的情境,用陣列的方式傳入做設定[label,filed]
	</pre>
    <div class="row form-horizontal gt-form">
        <gt-form-col label="具名模式範例" v-model="layout_mode_name" :layout_mode="layout_mode_name"></gt-form-col>
        <gt-form-col label="物件模式" :layout_mode="Case32">
            <span>配合 form-control-static 做 文字顯示,[layout_mode]{{Case32}}</span>
        </gt-form-col>
        <gt-form-col label="陣列模式" :layout_mode="Case33" col_sty="col-lg-12">
            <span>[layout_mode]{{Case33}}</span>
        </gt-form-col>
    </div>

    <h3>其他</h3>
    <div class="row form-horizontal gt-form">
        <gt-form-col label="prompt_sty" v-model="value_5" :prompt_sty="`has-req ${is_err}`"></gt-form-col>
    </div>

    <h3>gt-lot-query</h3>
    <div class="row form-horizontal gt-form">
        <gt-lot-query label="基本模式" v-model="value_4" col_sty="col-lg-12 "></gt-lot-query>
        <gt-lot-query label="s_label" v-model="value_4" col_sty="col-lg-12" layout_mode="s_label"></gt-lot-query>
        <gt-lot-query label="自定義" v-model="value_4" col_sty="col-lg-12 adj" :layout_mode="Case34"></gt-lot-query>
        <gt-lot-query label="CallBack模式" v-model="value_4" :callback="lot_QueryCallback"></gt-lot-query>
        <gt-lot-query label="query_lot" v-model="value_4" :callback="lot_QueryCallback" :query_lot="query_lot"></gt-lot-query>
        <gt-lot-query label="檢核重覆" v-model="value_4" :callback="lot_QueryCallback" :check_repeat="list"></gt-lot-query>
    </div>
    <pre>
[list]{{list.length}}
[value_4_res]{{value_4_res}}</pre>

    <h3>gt-tagformat</h3>
    <div class="row form-horizontal gt-form">
        <gt-form-col label="傳入值符合格式">
            <gt-tagformat v-model="value_6" readonly="readonly"></gt-tagformat>
        </gt-form-col>
        <gt-form-col label="傳入值不符合格式">
            <gt-tagformat v-model="value_5"></gt-tagformat>
        </gt-form-col>
        <gt-form-col label="傳入陣列">
            <gt-tagformat v-model="value_5" :tag="value_6"></gt-tagformat>
        </gt-form-col>
    </div>



</div>
@section Styles {
	@Styles.Render(eBundle.selectize_CSS)
	@Styles.Render(eBundle.elUI_CSS)
}


@section Scripts {
	@Scripts.Render(eBundle.selectize_JS)
	@Scripts.Render(eBundle.Vue_MES)
	@Scripts.Render(eBundle.elUI_JS)
}

<script>
    $(() => {
        new Vue({
            el: '#app',
            data() {
                return {
                    readonly:false,
                    layout_mode: ['def', 's_label', 'two_row', 'row','3col'],
                    layout_mode_name: 'def',
                    value_1: '1245',
                    value_11: '',
                    value_2: 'test',
                    value_3: 1,
                    Case32: {
                        label: 'text-danger col-lg-4 col-sm-3',
                        filed: 'form-control-static col-lg-8 col-sm-9 col-xs-12'
                    },
                    Case33: ['col-lg-2', 'col-lg-10'],
                    Case34: ['col-lg-2 col-sm-3', 'col-lg-10 col-sm-9'],
                    value_4: '',
                    value_4_res: [],
                    list: [],
                    value_5: '此欄位不得為空值',
                    value_6: "[1-0032]~Wafer",
                }
            },
            computed: {
                is_err() {
                    return this.value_5.trim() == "" ? "is-err" : "";
                }
            },
            methods: {
                lot_QueryCallback(res) {
                    this.value_4_res = res;
                    this.list.push(res);
                },
                query_lot(val) {
                    alert(val);
                },
                keypress() {
                    alert('testA');
                }
            }

        })
    });
</script>
