@{
    ViewBag.Title = "盒具資料設定";
    //
}
<h3>
    @ViewBag.Title
    <small></small>
</h3>

<form id="app">
    <div class="toolbar">
        <div class="btn-group">
            <el-button type="primary" class="btn"
                       icon="el-icon-caret-right"
                       :disabled="exec_disabled"
                       v-on:click="Exec">
                @RES.BLL.Face.FunctionBarOKButton
            </el-button>
        </div>
    </div>
    <div class="panel b">
        <div class="panel-body row ">
            <div class="form-group col-lg-6 has-success  has-feedback">
                <label>盒具代碼</label>
                <input ref="LOT" class="form-control" type="text" v-model="CurrentLot.LOT" />
            </div>
            <div class="form-group col-lg-6 has-success  has-feedback">
                <label>盒具別名</label>
                <input ref="LOT" class="form-control" type="text" v-model="CurrentLot.LOT" />
            </div>
            <div class="form-group col-lg-6 has-success  has-feedback">
                <label class="d-block">盒號類別</label>
                <x-reason-select required
                                 :values.sync="list_box_type.values"
                                 :options="list_box_type.options"
                                 :selectize_ops="selectize_ops"
                                 :is_formcontrol="true">
                </x-reason-select>
            </div>
            <div class="form-group col-lg-6">
                <label> 欄列顯示樣式 </label>
                <el-select>
                    <el-option v-for="item in list_display_format"
                               :key="item.value"
                               :label="item.label"
                               :value="item.value">
                    </el-option>
                </el-select>
            </div>

            <el-table style="width: 100%" :data="BoxSet">
                <el-table-column prop="name"
                                 label=""
                                 width="50">
                </el-table-column>
                <el-table-column prop="val"
                                 label="數量"
                                 width="180">
                    <template slot-scope="scope">
                        <el-input v-model="scope.row.val"></el-input>
                    </template>
                </el-table-column>
                <el-table-column prop="display_mode"
                                 label="格式">
                    <template slot-scope="scope">
                        <el-select v-model="scope.row.display_mode">
                            <el-option v-for="item in list_display_mode"
                                       :key="item.value"
                                       :label="item.label"
                                       :value="item.value">
                            </el-option>
                        </el-select>
                    </template>
                </el-table-column>
            </el-table>
        </div>
    </div>

</form>



@section Styles {
    @Styles.Render(eBundle.selectize_CSS)
    @Styles.Render(eBundle.elUI_CSS)
}

@section Scripts {
    @Scripts.Render(eBundle.selectize_JS)
    @Scripts.Render(eBundle.Vue_MES)
    @Scripts.Render(eBundle.elUI_JS)
    @Html.Partial("BoxInfo/_boxinfoView")

}

<script>
    $(() => {
        const v = new Vue({
            el: '#app',
            data() {
                return {
                    selectize_ops: {
                        labelField: 'label',
                        valueField: 'value',
                        searchField: ['label', 'value'],
                    },
                    CurrentLot: {
                        LOT: '201-20121129-33'
                    },
                    reason: [],
                    list_display_mode: [{
                        value: 0,
                        label: '1~n'
                    }, {
                        value: 1,
                        label: 'A~Z '
                    }, {
                        value: 2,
                        label: 'a~z'
                    }],
                    list_box_type: {
                        values: [],
                        options: [
                            {
                                value: 0,
                                label: 'ZGB'
                            }, {
                                value: 1,
                                label: 'Lens'
                            }, {
                                value: 2,
                                label: 'T-Spacer'
                            }
                        ]
                    },
                    list_display_format: [
                        {
                            value: 0,
                            label: 'col-row'
                        }, {
                            value: 1,
                            label: 'row-col'
                        }
                    ],

                    description: "",
                    exec_disabled: true,
                    HoldInfoList: [],
                    isEmptyRow: true,
                    List_Lot: [
                        { seat_code: '0301' },
                        { seat_code: '0302' },
                        { seat_code: '0303' }
                    ],
                    BoxSet: [
                        { name: '欄', val: 10, display_mode: 0 },
                        { name: '列', val: 10, display_mode: 1 }
                    ],

                    dialogTableVisible: false,
                    boxinfo: {
                        Cols: 30,
                        ColType: 0,
                        Rows: 30,
                        RowType: 0,
                        orderType: 0,
                        AxisVisable: true,

                        Lists: [],
                        Lists_x: {},
                        axis: {
                            x: [],
                            y: []
                        },
                        charArr: Array.from("ABCDEFGHIJKLMNOPQRESTUVWXYZ"),
                        selected: {}
                    }

                }
            },
            //mounted() {
            //    this.dialogTableVisible = true;
            //},
            methods: {
                Exec() { },
                ClearList() { }
            },
        })
    })
</script>
